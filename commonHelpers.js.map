{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.search-form')\nconst searchInput = document.querySelector('.search-input')\nconst galleryList = document.querySelector('.gallery-list')\nconst loader = document.querySelector('.loader')\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const inputValue = searchInput.value.trim();\n\n    if (inputValue === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query!',\n            position: 'topRight',\n        });\n        return;\n    }\n    \n    // Показати індикатор завантаження\n    loader.style.display = 'block';\n    \n    galleryList.innerHTML = '';\n\n    const apiKey = '36996517-56800863ae540be6945d0f4f2';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n\n                // Приховати індикатор завантаження якщо помилка\n            loader.style.display = 'none';\n            \n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    timeout: 3000,\n                });\n                \n                return;\n            }\n            \n            \n        setTimeout(() => {\n            galleryList.innerHTML = data.hits.map(image => {\n                const imageElement = \n                `<li class=\"gallery-item\">\n                <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n                <img class=\"img-item\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                </a>\n                <ul class=\"image-properties\">\n                <li>Likes <br/>${image.likes}</li>\n                <li>Views <br/>${image.views}</li>\n                <li>Comments <br/>${image.comments}</li>\n                <li>Downloads <br/>${image.downloads}</li>\n                </ul>\n                </li>`;\n                return imageElement;\n            }).join('');\n\n        \n        searchInput.value = '';\n\n        // Приховати індикатор завантаження після отримання відповіді\n        loader.style.display = 'none';\n\n        \n            lightbox.refresh();\n        }, 2000); // Зробила затримку відображення зображень на 2 секунди\n        })\n\n\n        .catch(error => {\n            iziToast.error({\n                message: 'There has been a problem with your fetch operation!',\n                position: 'topRight',\n                timeout: 3000,\n            });\n            \n            searchInput.value = '';\n\n            // Приховати індикатор завантаження якщо помилка\n            loader.style.display = 'none';\n        });\n});\n\n\n"],"names":["searchForm","searchInput","galleryList","loader","lightbox","SimpleLightbox","event","inputValue","iziToast","url","response","data","image","error"],"mappings":"6vBAUA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,YAAY,EAEhDL,EAAW,iBAAiB,SAAWM,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAaN,EAAY,MAAM,KAAI,EAEzC,GAAIM,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAGDL,EAAO,MAAM,QAAU,QAEvBD,EAAY,UAAY,GAGxB,MAAMO,EAAM,qEAA4CF,4DAExD,MAAME,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CAG5BR,EAAO,MAAM,QAAU,OAEnBK,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,QAAS,GAC7B,CAAiB,EAED,MACH,CAGL,WAAW,IAAM,CACbN,EAAY,UAAYS,EAAK,KAAK,IAAIC,GAElC;AAAA,2BACWA,EAAM,sDAAsDA,EAAM;AAAA,6CAChDA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,iCAG9CA,EAAM;AAAA,iCACNA,EAAM;AAAA,oCACHA,EAAM;AAAA,qCACLA,EAAM;AAAA;AAAA,sBAI9B,EAAE,KAAK,EAAE,EAGdX,EAAY,MAAQ,GAGpBE,EAAO,MAAM,QAAU,OAGnBC,EAAS,QAAO,CACnB,EAAE,GAAI,CACf,CAAS,EAGA,MAAMS,GAAS,CACZL,EAAS,MAAM,CACX,QAAS,sDACT,SAAU,WACV,QAAS,GACzB,CAAa,EAEDP,EAAY,MAAQ,GAGpBE,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}